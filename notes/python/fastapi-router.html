<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="format-detection" content="telephone=no">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Open Graph -->
    <meta property="og:url" content="https://gavinw.me/notes/python/fastapi-router.html">
    <meta property="og:type" content="website">
    <meta property="og:title" content="Gavin Wiggins">
    <meta property="og:description" content="FastAPI Router for Path Operations">
    <meta property="og:image" content="https://gavinw.me/assets/images/opengraph.jpg">

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

    <!-- Highlightjs -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.10.0/styles/github-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.10.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.10.0/languages/julia.min.js"></script>
    <script>hljs.highlightAll();</script>

    <!-- MathJax -->
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

    <!-- Styles -->
    <link rel="stylesheet" href="../../styles.css">

    <title>Gavin Wiggins</title>
</head>
<body>
<div class="container">
<div class="row">
<div class="col-md">
    <h1><a href="/" style="color: inherit;">Gavin Wiggins</a></h1>

    <p style="font-weight: 500;">
        <a href="../../notes.html">Notes</a> &nbsp; / &nbsp;
        <a href="../../links.html">Links</a> &nbsp; / &nbsp;
        <a href="../../contact.html">Contact</a>
    </p>

    <hr class="mb-5">

    <h1>FastAPI Router for Path Operations</h1>

    <h6 class="text-secondary">Written on August 9, 2025</h6>

    <p>The <code>APIRouter</code> class in FastAPI is used to group path operations for an app. This allows paths to be defined in multiple files which is useful for large applications. The example below defines fruits and veggies paths for the router.</p>
<pre><code class="language-python"># routes.py

from fastapi import APIRouter

router = APIRouter()


@router.get(&quot;/fruits&quot;)
async def get_fruits():
    return {&quot;fruits&quot;: [&quot;apples&quot;, &quot;oranges&quot;, &quot;lemons&quot;]}


@router.get(&quot;/veggies&quot;)
async def get_veggies():
    return {&quot;veggies&quot;: [&quot;beans&quot;, &quot;peas&quot;, &quot;celery&quot;]}
</code></pre>
<p>In the main app module shown below, the router is imported and included with the app instance. Notice a path is also defined in this file too thus paths are not all defined in the same file.</p>
<pre><code class="language-python"># app.py

from fastapi import FastAPI
from routes import router

app = FastAPI()

app.include_router(router)


@app.get(&quot;/&quot;)
async def home():
    return {&quot;message&quot;: &quot;hello there&quot;}
</code></pre>
<p>In summary, the paths for this application are <code>/</code>, <code>/fruits</code>, and <code>/veggies</code> which are defined in the <code>app.py</code> and <code>routes.py</code> files.</p>
<h2>Further reading</h2>
<p>See the <a href="https://fastapi.tiangolo.com/reference/apirouter/">APIRouter</a> documentation for more details about the router class. Also see the <a href="https://fastapi.tiangolo.com/tutorial/bigger-applications/">FastAPI</a> tutorial about using a routers subpackage for bigger applications.</p>

    <br>

    <p class="text-center small my-5">
        Gavin Wiggins Â© 2025<br>
        Made on a <a href="https://www.apple.com/mac/">Mac</a> with <a href="https://github.com/wigging/genja">Genja</a>. Hosted on <a href="https://pages.github.com">GitHub Pages</a>.
    </p>
</div>  <!-- end col-md -->
</div>  <!-- end row -->
</div>  <!-- end container -->
</body>
</html>